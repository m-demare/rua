local function split_arr(arr)
    local first = {}
    local last = {}
    local size = #arr
    for i=1, math.floor(size/2) do
        first[i] = arr[i]
    end

    for i=math.floor(size/2+1), size do
        last[i-math.floor(size/2)] = arr[i]
    end
    return {first, last}
end

local function merge(a1, a2)
    local i, j = 1, 1
    local s1, s2 = #a1, #a2
    local merged = {}
    while i <= s1 and j <= s2 do
        if a1[i] <= a2[j] then
            table.insert(merged, a1[i])
            i = i+1
        else
            table.insert(merged, a2[j])
            j = j+1
        end
    end
    while i <= s1 do
        table.insert(merged, a1[i])
        i = i+1
    end
    while j <= s2 do
        table.insert(merged, a2[j])
        j = j+1
    end
    return merged
end

local function merge_sort(arr)
    if #arr <= 1 then return arr end

    local split = split_arr(arr)
    local first = merge_sort(split[1])
    local last = merge_sort(split[2])

    return merge(first, last)
end

local function print_arr(arr)
    local s = '{'
    for i=1, #arr do
        s = s .. tostring(arr[i]) .. ', '
    end
    print(s..'}')
end

local arr = {
    7323, 20845, 17097, 2295, 18840, 25784, 1730, 23477, 15740, 15812, 14478, 4179, 3500, 2007, 28105, 6813, 24941, 22140, 17941, 16410, 7808, 18767, 28063, 710, 14838, 19138, 18713, 25959, 3678, 15964, 3782, 10592, 15538, 9715, 7480, 27569, 18408, 31344, 27088, 32732, 22909, 6535, 29593, 16557, 29584, 864, 12208, 24231, 19218, 18685, 12324, 13160, 4455, 15212, 22339, 27475, 28065, 10418, 140, 16865, 16889, 21163, 211, 5301, 19294, 4610, 23311, 24363, 27208, 8009, 11556, 22416, 9455, 26110, 5456, 26610, 17168, 8656, 32360, 25557, 26303, 24534, 3496, 8032, 15506, 7737, 27613, 28601, 1130, 22124, 5937, 2798, 27361, 25, 11895, 23706, 20676, 32508, 30121, 32396,
    9429, 7215, 5495, 5329, 14204, 28113, 6854, 31866, 7627, 31499, 24212, 14622, 21861, 8297, 19250, 9195, 10665, 17906, 21681, 5733, 767, 6292, 20313, 11586, 10905, 24866, 14560, 24880, 629, 31441, 23310, 25284, 17184, 13239, 19140, 17036, 29665, 17039, 12956, 20130, 22887, 8760, 22493, 23641, 25831, 24373, 30914, 2269, 11387, 30551, 19463, 28379, 9168, 15273, 17703, 18254, 15016, 8937, 1018, 5032, 6892, 4891, 13214, 26003, 1502, 8918, 2700, 3165, 16587, 25191, 23776, 8444, 1765, 17918, 7321, 6029, 24372, 14580, 10931, 27597, 8620, 12012, 24374, 20687, 8758, 22672, 22607, 2580, 18973, 22422, 18019, 3127, 27833, 22944, 5172, 18025, 19108, 29054, 16278, 30239,
    17669, 10646, 22401, 11643, 11232, 30455, 15349, 14807, 8956, 32628, 26047, 21004, 13148, 26390, 30804, 13156, 13602, 16702, 6617, 11649, 17033, 15260, 11083, 24764, 2530, 27682, 4674, 4028, 15529, 20871, 4998, 2648, 11734, 25935, 281, 31874, 19376, 20956, 31181, 30221, 3604, 12232, 25003, 10988, 31334, 4949, 24962, 18086, 7877, 27981, 4060, 24322, 22181, 27747, 27790, 28647, 5706, 16324, 13247, 25830, 12943, 31342, 14269, 17355, 25662, 9250, 31266, 24641, 13105, 4701, 7493, 7080, 5200, 14759, 23483, 31859, 19367, 19901, 1227, 15566, 28253, 17436, 17223, 7021, 3629, 12692, 6110, 21416, 2304, 31578, 23321, 339, 4609, 23854, 6127, 8383, 19367, 31968, 14396, 29599,
    23915, 645, 26558, 21921, 26478, 3725, 26385, 1240, 12744, 32526, 23712, 5176, 19065, 19369, 21385, 22631, 24790, 5272, 24337, 860, 18031, 22918, 40, 11928, 10884, 28425, 9323, 106, 30375, 24257, 18684, 17729, 16835, 23140, 26478, 19276, 22655, 26979, 23814, 23997, 15083, 7595, 22244, 4017, 16669, 32205, 20380, 27223, 32107, 31086, 28277, 3261, 27039, 28673, 8105, 3395, 29141, 29067, 10539, 3389, 3578, 15970, 29035, 3708, 31074, 8924, 14541, 17834, 10488, 6054, 1242, 21090, 24703, 11563, 7957, 17492, 17528, 21753, 16764, 13642, 10596, 31674, 6271, 32533, 26281, 14679, 5761, 7356, 13279, 22846, 18872, 30127, 21028, 30811, 11743, 7473, 2011, 27049, 21849, 7981,
    31328, 27760, 4118, 12522, 27609, 18173, 17911, 13978, 31440, 11808, 28072, 23327, 32187, 2176, 21532, 8487, 27826, 29777, 1391, 24172, 29080, 32481, 28633, 25180, 13640, 15735, 18695, 22824, 12058, 26038, 30746, 21445, 22366, 17727, 17042, 12861, 18049, 25304, 20496, 8836, 19079, 20706, 1181, 18864, 26618, 17628, 3783, 19817, 6658, 16595, 1316, 5644, 9104, 31794, 16019, 19523, 31751, 8450, 24787, 22527, 11493, 3902, 7215, 4640, 9458, 28256, 1219, 15846, 21589, 11668, 26474, 28981, 24299, 15285, 4157, 1381, 19776, 19647, 22106, 12712, 19230, 25389, 413, 24278, 15714, 19645, 26753, 8591, 2401, 17904, 19636, 689, 14171, 9766, 28056, 19628, 30681, 16904, 1250, 24255,
    5594, 11655, 20704, 12643, 31339, 21344, 6119, 17530, 29291, 10635, 3015, 28351, 25866, 17671, 13368, 9363, 23268, 15800, 749, 17299, 22432, 30790, 26057, 29316, 16477, 10804, 8266, 25387, 13577, 19717, 24592, 26737, 24136, 20830, 12932, 27863, 20714, 2615, 25986, 9377, 4109, 13906, 31411, 21010, 29657, 28414, 24181, 5436, 29670, 7390, 3187, 7926, 7797, 13433, 619, 29523, 31044, 4546, 6377, 16458, 12858, 13792, 13192, 11880, 2376, 12906, 26911, 2297, 31728, 23320, 17268, 30400, 26212, 13475, 6020, 3405, 9848, 9935, 31750, 2432, 16128, 20217, 11722, 31957, 359, 9818, 15712, 10359, 14674, 28812, 21276, 23566, 6356, 19770, 27540, 15314, 22724, 22476, 16236, 3559,
    30907, 9456, 24811, 31911, 15890, 7894, 7216, 8542, 17022, 22421, 13718, 4717, 6450, 17202, 8900, 5958, 20847, 16336, 14760, 17865, 5615, 32030, 19154, 11705, 18425, 17808, 22988, 21956, 21266, 22678, 10915, 20700, 22986, 29073, 19495, 26458, 20363, 3111, 4968, 29741, 18598, 6433, 25818, 17, 2446, 443, 3264, 18700, 28413, 297, 25341, 967, 15124, 9124, 14459, 28900, 1484, 22137, 3149, 17564, 4432, 5376, 2371, 22408, 27688, 16168, 21156, 25513, 32399, 4669, 6892, 18342, 21652, 27338, 808, 19569, 19264, 26303, 32012, 902, 20015, 26127, 26927, 24296, 4481, 10022, 30591, 8831, 19312, 22846, 14217, 17573, 10220, 7448, 12359, 20523, 6660, 7256, 19427, 1652,
    13700, 3754, 31296, 5409, 15324, 4609, 1221, 32301, 12258, 21012, 8741, 203, 6795, 412, 11822, 7760, 30040, 27883, 13133, 16576, 2985, 10960, 2679, 6097, 4577, 7593, 20245, 638, 22842, 22510, 23826, 17912, 3378, 28552, 20496, 8677, 995, 32366, 11484, 332, 16632, 18976, 18780, 21391, 21236, 23140, 29413, 27285, 6693, 23022, 7851, 29803, 29107, 23425, 15546, 1510, 14737, 17183, 4107, 1763, 10849, 1269, 30805, 29011, 13278, 28154, 1216, 14092, 23853, 30040, 19154, 24977, 8356, 24880, 7588, 11812, 18774, 28471, 17301, 29770, 28921, 15926, 29080, 19896, 11932, 7052, 8950, 13945, 14372, 3876, 14415, 16160, 1486, 24164, 18527, 3299, 31933, 12584, 9746, 30926,
}

merge_sort(arr)

